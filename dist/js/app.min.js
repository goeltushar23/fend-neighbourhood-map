var restaurantLocations=[{name:"Toit",lat:12.9793822,lng:77.6406363},{name:"Big Brewsky",lat:12.9129742,lng:77.6830537},{name:"ABs - Absolute Barbecues",lat:12.9497983,lng:77.6993079},{name:"Communiti",lat:12.9726926041,lng:77.6083475724},{name:"Hoot",lat:12.914264,lng:77.6784},{name:"Flechazo",lat:12.9753769124,lng:77.6966639981},{name:"ECHOES",lat:12.934179,lng:77.615797},{name:"Barbeque Nation",lat:12.9607795,lng:77.6412627},{name:"Arbor Brewing Company",lat:12.9701824099,lng:77.610235177},{name:"The Hole in the Wall Cafe",lat:12.9347439221,lng:77.6257024705},{name:"High Ultra Lounge",lat:13.0113161,lng:77.5555831},{name:"Windmills Craftworks",lat:12.9820705,lng:77.7218244},{name:"Vapour Pub & Brewery",lat:12.9696261,lng:77.640681},{name:"biergarten",lat:12.9824112,lng:77.7085878},{name:"SodaBottleOpenerWala",lat:12.9706495,lng:77.5976253},{name:"Toast & Tonic",lat:12.966835,lng:77.608727},{name:"Brik Oven",lat:12.974711,lng:77.605404},{name:"Zzungry",lat:12.911672,lng:77.629827},{name:"Kesariya",lat:12.906616,lng:77.589579},{name:"Shake It Off",lat:12.919827,lng:77.58959},{name:"Frozen Bottle",lat:12.912379,lng:77.638277},{name:"Third Wave Coffee Roasters",lat:12.934806,lng:77.629595},{name:"MudPipe Cafe",lat:12.934632,lng:77.609564},{name:"Lazy Suzy",lat:12.970874,lng:77.647465}];$("#btn_side_nav").on("click",function(e){$("#filter_nav").toggleClass("collapsed"),$("#map").toggleClass("expanded")}),$("#filter_input").focus();var markerIcon1={path:"M0-48c-9.8 0-17.7 7.8-17.7 17.4 0 15.5 17.7 30.6 17.7 30.6s17.7-15.4 17.7-30.6c0-9.6-7.9-17.4-17.7-17.4z",fillColor:"#cb202d",fillOpacity:1,scale:.8,strokeColor:"white",strokeWeight:2},markerIcon2=jQuery.extend({},markerIcon1);markerIcon2.fillColor="#0CB";var Restaurant=function(e){var a=this;a.name=e.name,a.lat=e.lat,a.lng=e.lng,a.visible=ko.observable(!0),a.infoWindow=new google.maps.InfoWindow({content:a.name}),a.marker=new google.maps.Marker({position:new google.maps.LatLng(a.lat,a.lng),map:map,title:a.name,icon:markerIcon1}),a.showMarker=ko.computed(function(){!0===a.visible()?a.marker.setMap(map):a.marker.setMap(null)}),a.marker.addListener("click",function(){a.infoWindow.open(map,this)}),a.marker.addListener("mouseover",function(){a.marker.setIcon(markerIcon2)}),a.marker.addListener("mouseout",function(){a.marker.setIcon(markerIcon1)}),a.triggerClick=function(){google.maps.event.trigger(a.marker,"click")},a.triggerMouseOver=function(){google.maps.event.trigger(a.marker,"mouseover")},a.triggerMouseOut=function(){google.maps.event.trigger(a.marker,"mouseout")}},ViewModel=function(){var e=this;e.locationList=ko.observableArray([]),restaurantLocations.forEach(function(a){e.locationList.push(new Restaurant(a))}),e.filterText=ko.observable(""),e.visibleLocationList=ko.computed(function(){return e.filterText().length?ko.utils.arrayFilter(e.locationList(),function(a){var n=a.name.toLowerCase().indexOf(e.filterText().toLowerCase())>-1;return a.visible(n),n}):(e.locationList().forEach(function(e){e.visible(!0)}),e.locationList())})};ko.applyBindings(new ViewModel);