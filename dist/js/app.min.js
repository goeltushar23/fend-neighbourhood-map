function initMap(){var e={mapTypeId:google.maps.MapTypeId.ROADMAP,zoom:13,center:{lat:12.966835,lng:77.608727}};(map=new google.maps.Map(document.getElementById("map"),e)).setTilt(45),markerIcon1={path:"M0-48c-9.8 0-17.7 7.8-17.7 17.4 0 15.5 17.7 30.6 17.7 30.6s17.7-15.4 17.7-30.6c0-9.6-7.9-17.4-17.7-17.4z",fillColor:"#cb202d",fillOpacity:1,scale:.8,strokeColor:"white",strokeWeight:2},(markerIcon2=jQuery.extend({},markerIcon1)).fillColor="#0CB",infoWindow=new google.maps.InfoWindow,ko.applyBindings(new ViewModel)}function googleMapError(){alert("There was an error in getting Google Maps Data. Please refresh and try again")}var restaurantLocations=[{name:"Toit BrewPub",lat:12.9793822,lng:77.6406363},{name:"Big Brewsky",lat:12.9129742,lng:77.6830537},{name:"ABs - Absolute Barbecues",lat:12.9497983,lng:77.6993079},{name:"Communiti",lat:12.9726926041,lng:77.6083475724},{name:"Hoot",lat:12.914264,lng:77.6784},{name:"Flechazo",lat:12.9753769124,lng:77.6966639981},{name:"Barbeque Nation",lat:12.9607795,lng:77.6412627},{name:"Arbor Brewing Company",lat:12.9701824099,lng:77.610235177},{name:"The Hole in the Wall Cafe",lat:12.9347439221,lng:77.6257024705},{name:"High Ultra Lounge",lat:13.0113161,lng:77.5555831},{name:"Windmills Craftworks",lat:12.9820705,lng:77.7218244},{name:"Vapour Pub & Brewery",lat:12.9696261,lng:77.640681},{name:"Biergarten",lat:12.9824112,lng:77.7085878},{name:"SodaBottleOpenerWala",lat:12.9706495,lng:77.5976253},{name:"Brik Oven",lat:12.974711,lng:77.605404},{name:"Kesariya",lat:12.906616,lng:77.589579},{name:"Shake It Off",lat:12.919827,lng:77.58959},{name:"Frozen Bottle",lat:12.912379,lng:77.638277},{name:"Third Wave Coffee Roasters",lat:12.934806,lng:77.629595},{name:"MudPipe Cafe",lat:12.934632,lng:77.609564},{name:"Lazy Suzy",lat:12.970874,lng:77.647465}],map,infoWindow,markerIcon1,markerIcon2,fourSquareURL,clientID="5PHXENDJH4FANF5GFNTZK4QX5KV0MSLIU5MX51BYXCP1JLOF",clientSecret="X2UQHHRCEGYFO2Y05XJDG0WVSY3TZD13CEOJ4O00IUB0XCI3",Restaurant=function(e){var n=this;n.name=e.name,n.lat=e.lat,n.lng=e.lng,n.address="",n.phone="",n.infoWindowContent=this.name,n.visible=ko.observable(!0),fourSquareURL="https://api.foursquare.com/v2/venues/search?ll="+n.lat+","+n.lng+"&client_id="+clientID+"&client_secret="+clientSecret+"&v=20170710&query="+this.name,$.getJSON(fourSquareURL,function(e){var a=e.response.venues[0];n.address=a.location.formattedAddress.join("\n"),n.phone=a.contact.formattedPhone||"",n.infoWindowContent='<div class="marker-info"><div>'+n.name+"</div><div>"+n.address+"</div><div>"+n.phone+"</div></div>"}).fail(function(){alert("Error in Getting Data from Foursquare API call. Please refresh the page and try again!")}),n.marker=new google.maps.Marker({position:new google.maps.LatLng(n.lat,n.lng),map:map,title:n.name,icon:markerIcon1}),n.showMarker=ko.computed(function(){!0===n.visible()?n.marker.setMap(map):n.marker.setMap(null)}),n.marker.addListener("click",function(){n.marker.setAnimation(google.maps.Animation.BOUNCE),setTimeout(function(){n.marker.setAnimation(null)},2e3),map.panTo(n.marker.getPosition()),infoWindow.setContent(n.infoWindowContent),infoWindow.open(map,this)}),n.marker.addListener("mouseover",function(){n.marker.setIcon(markerIcon2)}),n.marker.addListener("mouseout",function(){n.marker.setIcon(markerIcon1)}),n.triggerClick=function(){google.maps.event.trigger(n.marker,"click")},n.triggerMouseOver=function(){google.maps.event.trigger(n.marker,"mouseover")},n.triggerMouseOut=function(){google.maps.event.trigger(n.marker,"mouseout")}},ViewModel=function(){var e=this;e.locationList=ko.observableArray([]),restaurantLocations.forEach(function(n){e.locationList.push(new Restaurant(n))}),e.filterText=ko.observable(""),e.visibleLocationList=ko.computed(function(){return e.filterText().length?ko.utils.arrayFilter(e.locationList(),function(n){var a=n.name.toLowerCase().indexOf(e.filterText().toLowerCase())>-1;return n.visible(a),a}):(e.locationList().forEach(function(e){e.visible(!0)}),e.locationList())}),e.filterVisible=ko.observable(!0),e.toggleFilterNav=function(){e.filterVisible(!e.filterVisible())}};